<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="../css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="../css/bootstrap-responsive.css">
    
    <script type="text/javascript" src="../js/jquery-1.10.0.js">
    </script>
    <script type="text/javascript" src="../js/bootstrap.js">
    </script>
    
    <script type="text/javascript" src="../js/ida-deploy-core.js">
    </script>
    
    
  </head>
  <body onload="update();">
    
    <div class="container" style="margin-top: 5px;">
      <div class="row">
        <div class="span12">
          <div class="hero-unit">
            <div class="container">
              <div class="row">
                <div class="span10">
                  
                  <!-- tooltips can be enabled with any HTML tag by adding rel='tooltip' and title='tooltiptext' 
                        naming convention is field 'id'+'ToolTip' at teh end e.g. installer_section0ToolTip

                -->
                  
                  <!--   begining  of the form-->
                  
                  
                  <form>
                    <input id="installer_section0_fingerprint" name="installer_section0_title" type="hidden" value="">
                    <input id="installer_section0_version" name="installer_section0_version" type="hidden" value="">
                    <input id="installer_section0_builddate" name="installer_section0_builddate" type="hidden" value="">
                    <input id="installer_section0_title" name="installer_section0_title" type="hidden" value="">
                    <input id="installer_section1_title" name="installer_section1_title" type="hidden" value="">
                    <input id="installer_section2_title" name="installer_section2_title" type="hidden" value="">
                    <input id="installer_section3_title" name="installer_section3_title" type="hidden" value="">
                    <input id="installer_section4_title" name="installer_section4_title" type="hidden" value="">
                    <input id="installer_section5_title" name="installer_section5_title" type="hidden" value="">
                    
                    
                    
                    <h4>
                      <fieldset>
                        <table width="100%" border=1>
                          
                          
                          
                          <tr>
                            <td colspan="2" align="right" valign="center">
                              
                              
                              <input type="hidden" id="my_ctl_federation" value="CAF" onchange="updateCtx(this)" >
                              
                              
                              
                              <a name="top_of_page">
                              </a>
                              
                              <table width=100% border=0>
                                <tr>
                                  <td>
                                    <font size="+2" >
                                      <b>
                                        Interactive Configuration Builder
                                      </b>
                                    </font>
                                    <br>
                                    An interactive tool to help build your eduroam and Shibboleth config
                                    
                                  </td>
                                  <td align=right colspan=2>

                                   

                                     <img align="center" width="250" height="80" src="./img/logo.png" alt="Federation Operator logo" />
                                   

                                  </td>
                                </tr>
                                
                                <tr>
                                  <td>
                                    
                                    <!-- comments area -->
                                    
                                    <!-- end comments area -->
                                    
                                  </td>
                                  
                                  
                                  <td align="right">
                                    
                                    <a href="#use_existing_config">
                                      import an existing configuration
                                    </a>
                                  </td>
                                  <td>
                                    <!--
                                    <button class="btn" onclick="window.open ('help.html','help window',popupWinSettings);" >
                                      Help
                                    </button>
-->
                                  </td>
                                </tr>
                              </table>
                              
                            </td>
                          </tr>
                          
                          <!-- end tool header -->
                          
                          
                          <tr id="my_installer_section0_buildComponentListRow" class="status" bgcolor="#CCCCCC">
                            <td colspan="2">
                              <b>
                                <font size="+1">
                                  Please select components to configure for your installation
                                </font>
                                <b>
                                </td>
                              </tr>
                              
                              
                              <tr>
                                <td colspan="2" align="left">
                                  
                                  <table border=1 cellpadding=10>
                                    <tr>
                                      <td>
                                        
                                        <table border=0 cellpadding=4>
                                          <tr>
                                            <td>

                                              eduroam service using FreeRADIUS:
                                            </td>
                                            <td>
                                              <input id="ida_component_eduroam" 
                                              onclick="refreshComponentsList();c=cFilled;if (this.checked==true){c=cNeeded}else {c=cNeutral} setDependantFieldColours(c,requiredFieldKeysEduroam);" 
                                              type="checkbox" name="ida_component_eduroam" value="on"/>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>
                                              Federated SSO Identity Provider service using Shibboleth: 
                                            </td>
                                            <td>
                                              
                                              <input id="ida_component_shibboleth" 
                                              onclick="refreshComponentsList();c=cFilled;if (this.checked==true){c=cNeeded}else {c=cNeutral} setDependantFieldColours(c,requiredFieldKeysShibboleth);" 
                                              type="checkbox" name="ida_component_shibboleth" value="on" />
                                            </td>
                                          </tr>
                                          <tr><td><hr></td></tr>
                                          <tr>
                                            <td>
                                              Non-interactive installation
                                              <img id="nonInteractiveInstallationToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" rel="tooltip" title="In non-interactive mode the installer will not ask for any user input or confirmation and will automatically generate all passwords.">
                                            </td>
                                            <td>
                                              <input id="installer_interactive" type="checkbox" value="y" onclick="updateCtx(this)"/>
                                            </td>
                                          </tr>
                                        </table>
                                        <input type="hidden" id="installer_section0_buildComponentList" type="text" placeholder="" value="" >
                                        
                                        
                                      </td>
                                      <td>
                                        
                                        <font size="-1">
                                          <b>
                                            Instructions
                                          </b>
                                          <br>
                                          - Choose which service(s) you would like to configure or import an existing configuration.
                                          <br>
                                          - Incomplete required fields will be highlighted yellow, green indicates field is ready
                                          <br>
                                          - Once all the fields for the service are completed, cut and paste results into config file in same directory as the deploy tool
                                          <br>
                                          - Initiate deployment by executing 
                                          <i>
                                            ./deploy_idp.sh
                                          </i>
                                          on the target server to initiate the install
                                          <br>
                                          - Hover over the tooltip icon: 
                                          <img id="ldapserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is a tooltip"
           /> for context sensitive help
                                          <br>
                                          - this tool best use in Firefox, Chrome, or Safari.  <b>IE is not supported.</b>
                                        </font>
                                        
                                      </td>
                                    </tr>
                                  </table>
                                  
                                </td>
                              </tr>
                              
                              
                              <!-- general header section -->
                              <tr id="my_generalHeaderSectionRow" class="status" bgcolor="#CCCCCC">
                                <td colspan="2">
                                  <b>
                                    <font size="+2">
                                      General Information
                                    </font>
                                    <b>
                                    </td>
                                  </tr>
                                  
                                  
                                  <tr>
                                    <td colspan="2" align="right">
                                      
                                    </td>
                                  </tr>
                                  <!-- end header -->
                                  
                                  
                                  <tr id="my_installer_section0buildDescriptionRow" class="status" bgcolor="#CCCCCC">
                                    <td colspan="2">
                                      <b>
                                        <font size="+1">
                                          Document This Configuration


                                        </font>
                                        <b>
                                        </td>
                                      </tr>
                                      
                                      
                                      <tr>
                                       
                                        <td colspan="2" align="right">
                                          Brief description for this configuration
                                         
                                          <img  
                                          id="installer_section0_buildDescriptionToolTip"
                                          src="../img/icon_tooltip.gif" alt="ToolTip" 
                                          rel="tooltip" 
                                          title="This is a comment field to leave your future self a note about what configuration this is."
                                          />

                                          :
                                          
                                          <input style="width: 300px;" id="installer_section0_buildDescription" type="text" placeholder="My Development configuration" 
                                          onchange="updateCtx(this)" >
                                          
                                          <br>
                                          
                                          <!--
onchange="update();this.style.backgroundColor=cFilled;" >

<br>
c=cFilled;if (this.checked==true){c=cNeeded} 
-->
  
     </td>
  </tr>
  
  
  <tr id="my_idpurlRow" class="status" bgcolor="#CCCCCC">
    <td colspan="2">
      <b>
        <font size="+1">
          Name of Server Running This Configuration
        </font>
        <b>
        </td>
      </tr>
      
      <tr>
        <td colspan="2" align="right">
          
          Public URL of the Server
         <img id="idpurlToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The fully qualified URL (https://...) of your server. The HTTPS is not automatically put in so please include it"
           />


          :
          <input id="idpurl" type="text" placeholder="https://idpdev.mydomain.ca" onchange="updateCtx(this)" >
          <BR>
          
        </td>
      </tr>
      
      
      <tr id="my_eduroamDomainRow" class="status" bgcolor="#CCCCCC">
        <td colspan="2">
          <b>
            <font size="+1">
              Set the eduroam Domain and/or Federated SSO scope
            </font>
            <b>
            </td>
          </tr>
          
          <tr>
            <td colspan="2" align="right">
              What is your organization's domain?
        <img id="my_eduroamDomainToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the domain your users will use for eduroam (netid@domain.ca) and the scope used for your SAML assertions."
           />


              :
              <input id="my_eduroamDomain" type="text" placeholder="mydomain.ca" 
              onchange="updateCtx(this)" >
              <br>
              
              
              <!--    onchange="update(); document.getElementById('my_eduroamDomainRow').style.backgroundColor='#6AA121';" >
<br>
-->
  
     </td>
  </tr>
  
  <!-- general header section -->
  <tr id="my_generalHeaderSectionRow" class="status" bgcolor="#CCCCCC">
    <td colspan="2">
      <b>
        <font size="+2">
          eduroam Specific Configuration Information
        </font>
        <b>
        </td>
      </tr>
      
      
      <tr>
        <td colspan="2" align="right">
          
        </td>
      </tr>
      <!-- end header -->
      
      
      <tr bgcolor="#CCCCCC">
        <td colspan="2">
          <b>
            <font size="+1">
              Your Active Directory settings
               
            </font>
            <b>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              For eduroam (RADIUS) MSCHAPv2  authentication to work, this machine must join your AD domain.
            </td>
            <td>
            </tr>
          <tr>
            <td colspan="2" align="right">
              <table>
                <tr>
                  <td colspan="1" align="left">
                    <font size="-1">
                      WinBIND krb5 settings
                    </font>
                  </td>
                </tr>
              </table>
              Active Directory Default AD DOMAIN

               <img id="krb5_libdef_default_realmToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is your default Active Directory Domain that the CentOS server will need for WinBIND operations. Some people use their domain name, some use a shortened name with .LOCAL at the end."
           />
            :
              <input id="krb5_libdef_default_realm" type="text" placeholder="DOMAIN.LOCAL" onchange="update();this.style.backgroundColor=cFilled;">
              <br>
              
              <!-- AD Default AD DOMAIN lowercased: -->
              

              <input id="krb5_realms_def_dom" type="hidden" placeholder="e.g. domain.local" onchange="updateCtx(this)" >
              
              Active Directory Internet Domain
 <img id="krb5_domain_realmToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is your internet domain name that Active Directory knows about and resides in. In most cases it is the same as your organization name, but if it is not, that is ok too"
           />

              :
              <input id="krb5_domain_realm" type="domain.ca" placeholder="e.g. domain.ca" onchange="updateCtx(this)" >
              <br>
              <hr>
              <table>
                <tr>
                  <td colspan="1" align="left">
                    <font size="-1">
                      SAMBA settings
                    </font>
                  </td>
                </tr>
              </table>
              Active Directory Domain Name - pre-windows2000/NETBIOS Name 
<img id="smb_workgroupToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="SAMBA is the Linux bridge to Windows and is required for the authentication tools. While appearing like duplication, it too needs the AD domain, but the pre-Windows2000/NETBIOS name which is the single string short form (no dots). Please contact your AD admin if you do not know what this is"
           />
              :
              <input id="smb_workgroup" type="text" placeholder="e.g. DOMAIN" onchange="updateCtx(this)" >
              <br>
              Legacy NETBIOS host name in Active Directory
<img id="smb_netbios_nameToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the name of the host in Active Directory. Some systems may need it to pre-exist before the machine can join the domain properly. It is usually a single non dotted string."
           />
              :
              <input id="smb_netbios_name" type="text" placeholder="e.g. APP1" onchange="updateCtx(this)" >
              <br>
              IP Address of your Primary AD DC
<img id="smbpasswd_svrToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The actual IP address of the domain controller that will process authentication requests."
           />
              :
              <input id="smb_passwd_svr" type="text" placeholder="e.g. 1.2.3.4" onchange="updateCtx(this)" >
              <br>
              SAMBA Active Directory DOMAIN
<img id="smb_realmToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The WINDOWS Active Directory domain in which will be used on the requests for a password authentication"
           />
              :
              <input id="smb_realm" type="text" placeholder="e.g. DOMAIN.LOCAL" onchange="updateCtx(this)" >
              <br>
              
            </td>
          </tr>
          
          <tr bgcolor="#CCCCCC">
            <td colspan="2">
              <b>
                <font size="+1">
                  Your RADIUS configuration
                </font>
                <b>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  FreeRADIUS will behave as both a proxy and server for local clients.
                  <br>
                  A Client can be anything that talks the RADIUS protocol, including other RADIUS servers, access points, laptops, and/or smart phones.
                  <br>
                  
                  
                </td>
                <td>
                </tr>
              <tr>
                <td colspan="2" align="right">
                  
                  domain used for eduroam
<img id="freeRADIUS_realmToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This may have been auto-populated from above. This is the domain your users will use for eduroam (netid@domain.ca). "
           />

                  :
                  <input id="freeRADIUS_realm" type="text" placeholder="" onchange="updateCtx(this)" >
                  <br>
                  Active Directory realm used to authenticate users
<img id="freeRADIUS_pxycfg_realmToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This may have been auto-populated from above. This is your WINDOWS AD domain that Active Directory knows about and resides in. "
           />
                  :
                  <input id="freeRADIUS_pxycfg_realm" type="text" placeholder="" onchange="updateCtx(this)" >
                  <br>
                  RADIUS Shared Key provided by CANARIE for upstream eduroam servers
<img id="freeRADIUS_cdn_prod_passphraseToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is provided to you by CANARIE for production. For test, any string may be used. The pound sign(#) is not supported in this string at this time"
           />

                  :
                  <input id="freeRADIUS_cdn_prod_passphrase" type="text" placeholder="" 
                  onchange="if(this.value.indexOf('#')>-1){alert(PoundSignError);}else{updateCtx(this);}">
  <br>
  <hr>
  Access Point #1 IP Address
<img id="freeRADIUS_clcfg_ap1_ipToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the IP address of your 1st wireless access point or controller that may be treated as a client by this server. "
           />
  :
  <input id="freeRADIUS_clcfg_ap1_ip" type="text" placeholder="" onchange="updateCtx(this)" >
  <br>
  Access Point #1 RADIUS Shared Key(min 8 char)
  <img id="freeRADIUS_clcfg_ap1_secretToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the 8 character or more passphrase of your 1st wireless access point or controller. Pound sign(#) in the passphrase is not supported at this time. "
           />
:
  <input id="freeRADIUS_clcfg_ap1_secret" type="text" placeholder="" 
  onchange="if(this.value.indexOf('#')>-1){alert(PoundSignError);}else{updateCtx(this);}">
  <br>
  <hr>
  Access Point #2 IP Address
<img id="freeRADIUS_clcfg_ap2_ipToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the IP address of your 2nd wireless access point or controller that may be treated as a client by this server. If you have only one, enter an arbitrary IP address like the non routable 172.16.1.1. DO NOT use this host IP OR 127.0.0.1, doing so may cause issues. "
           />


  :
  <input id="freeRADIUS_clcfg_ap2_ip" type="text" placeholder="" onchange="updateCtx(this)" >
  <br>
  Access Point #2 RADIUS Shared Key(min 8 char)
  <img id="freeRADIUS_clcfg_ap2_secretToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the 8 character or more passphrase of your 1st wireless access point or controller. Pound sign(#) in the passphrase is not supported at this time. If you only have 1 AP/Controller, enter abcd1234 as a placeholder. "
           />

  :
  <input id="freeRADIUS_clcfg_ap2_secret" type="text" placeholder="" 
  onchange="if(this.value.indexOf('#')>-1){alert(PoundSignError);}else{updateCtx();}">
  <br>
  
  <!-- 
<tr>
<td>
installer_section3_title:
</td>
<td>
<input id="installer_section3_title" type="text" placeholder="" onchange="updateCtx(this)" >
</td>
</tr>
-->
  
                                             </td>
  </tr>
  
  
  
  <tr bgcolor="#CCCCCC">
    <td colspan="2">
      <b>
        <font size="+1">
          Information for the TLS Generation
        </font>
        <b>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          eduroam needs TLS for encrypting tunnels between your server and the person authenticating. 
          Please provide details to create a self signed Certificate Authority(CA) and Server certificate.
          <br>
          
        </td>
        <td>
        </tr>
      <tr>
        <td colspan="2" align="right">
          Certificate Authority Prov/State
          <img id="freeRADIUS_ca_stateToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the province of your CERTIFICATE AUTHORITY (your institition) resides in "
           />
           :
          <input id="freeRADIUS_ca_state" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Certificate Authority City
                    <img id="freeRADIUS_ca_localToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the city or town of your CERTIFICATE AUTHORITY (your institition) resides in "
           />
        :
          <input id="freeRADIUS_ca_local" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Certificate Authority Org Name
                    <img id="freeRADIUS_ca_org_nameToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the business name of your institition on the CERTIFICATE AUTHORITY"
           />
:
          <input id="freeRADIUS_ca_org_name" type="text" placeholder="Institution X" onchange="updateCtx(this)" >
          <BR>
          Certificate Authority Contact email
                    <img id="freeRADIUS_ca_emailToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the role based email address on the CERTIFICATE AUTHORITY for the technical contact for cryptography and security "
           />
:
          <input id="freeRADIUS_ca_email" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Certificate Authority Common Name
          <img id="freeRADIUS_ca_commonNameToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the title on the CERTIFICATE AUTHORITY. It is a string and not a host name and describes it a Self Signed CA (non commercial)"
           />

          :
          <input id="freeRADIUS_ca_commonName" type="text" placeholder="Inst. X SelfSigned CA Authority" 
          onchange="if(this.value.indexOf('#')>-1){alert(PoundSignError);}else{updateCtx(this);}">
  <br>
  
  
  

  Copy info to fields below? 
  <input id="dupeData1" onclick="return duplicateContactInfo();" type="checkbox" name="dupeData1" value="yes" />
  
                                             </td>
  </tr>
  
  <tr bgcolor="#CCCCCC">
    <td colspan="2">
      <b>
        <font size="+1">
          Information for the Server Certificate TLS Generation
        </font>
        <b>
        </td>
      </tr>
      <tr>
        <td colspan="2" align="right">
          
          
          Server Certificate Prov/State
<img id="freeRADIUS_svr_stateToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the province of your institition resides in "
           />
          :
          <input id="freeRADIUS_svr_state" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Server Certificate City
 <img id="freeRADIUS_svr_localToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the city or town your institition resides in "
           />
          :
          <input id="freeRADIUS_svr_local" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Server Certificate Org Name
              <img id="freeRADIUS_svr_org_nameToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the business name of your institition"
           />
          :
          <input id="freeRADIUS_svr_org_name" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Server Certificate Contact email
    <img id="freeRADIUS_svr_emailToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is the role based email address on the CERTIFICATE for the technical contact for cryptography and security. "
           />
          :
          <input id="freeRADIUS_svr_email" type="text" placeholder="" onchange="updateCtx(this)" >
          <BR>
          Server Certificate Common Name
<img id="freeRADIUS_svr_commonNameToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This is auto-populated from Public URL of the Server. It is the FQDN of the host and the key element that marries the SSL certificate to a host. IP addresess are NOT permitted. Hostnames do NOT need to be in DNS at this time so fabricated names for testing purposes and overriden in local hosts files will also work."
           />
          :
          <input id="freeRADIUS_svr_commonName" type="text" placeholder="idp.domain.ca" onchange="updateCtx(this)" >
          <BR>
          
        </td>
      </tr>
      
      <!-- general header section -->
      <tr id="my_generalHeaderSectionRow" class="status" bgcolor="#CCCCCC">
        <td colspan="2">
          <b>
            <font size="+2">
              Federated Single Sign On Configuration  Information
            </font>
            <b>
            </td>
          </tr>
          
          
          <tr>
            <td colspan="2" align="right">
              
            </td>
          </tr>
          <!-- end header -->
          
          <tr bgcolor="#CCCCCC">
            <td colspan="2">
              <b>
                <font size="+1">
                  Base Configuration for FedSSO
                </font>
                <b>
                </td>
              </tr>
              <tr>
                <td colspan="2">
                  Federated SSO needs credentials to connect to your Directory for 'find and bind' operations as well as to access data about a user.
                  <br>
                  
                </td>
                <td>
                </tr>
              <tr>
                <td colspan="2" align="right">
                  Servlet Container

<img id="appservToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="Jetty is installed by default on a non privileged port (7443) and uses IPTables to port-forward requests from 443 to this servlet container.  
        &#10;&#10;
          The self signed certificate for this host is installed into the Java Key Store (JKS) and you will be asked to set an password for this keystore during the installation process. If you do not choose one during install, a random one will be generated to be used in the startup of Jetty which is installed in /opt/jetty."
           />
                  :
                  <input id="appserv" type="text" placeholder="jetty" value="jetty" readonly onchange="updateCtx(this)" >
                  <BR>
                  Authentication type 
<img id="typeToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="LDAP is the default method for FedSSO.  The LDAP directory MUST be able to do SSL and be visible during installation as the LDAP SSL certificate is fetched realtime during the installation process."
           />

                  :
         <!-- <input id="type" type="text" placeholder="ldap" value="ldap" readonly onchange="updateCtx(this)" > -->
                 <select id="type"  onchange="updateCtx(this)" >
                    <option name="ldap" value="ldap" selected>
                      ldap
                    </option>
                    <option name="cas" value="cas">
		      cas
		    </option>
		 </select>  
                  <BR>
                  ntpserver 
                  <img id="ntpserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="NTP is required to be enabled in order to keep the host in sync with time."
           />
:
                  <!-- 
<input id="fedSSO_ntpserver" type="text" placeholder="" onchange="updateCtx(this)" >
-->
                  
                  <select id="ntpserver"  onchange="updateCtx(this)" >
                    <option name="NRC1" value="tic.nrc.ca" selected>
                      Ontario - tic.nrc.ca
                    </option>
                    <option name="NRC2" value="tac.nrc.ca" selected>
                      Ontario - tac.nrc.ca
                    </option>
                    <option name="Saskatoon1" value="tick.usask.ca">
                      Saskatoon - tick.usask.ca (Stratum 1 - GPS)
                    </option>
                    <option name="Saskatoon2" value="tock.usask.ca">
                      Saskatoon - tock.usask.ca (Stratum 1 - GPS)
                    </option>
                    <option name="Winnipeg1" value="tick.umanitoba.ca">
                      Winnipeg - tick.umanitoba.ca (Stratum 1 - GPS)
                    </option>
                    <option name="Winnipeg2" value="tock.umanitoba.ca">
                      Winnipeg - tock.umanitoba.ca (Stratum 1 - GPS)
                    </option>
                    <option name="Halifax" value="tick.acorn-ns.ca">
                      Halifax - tick.acorn-ns.ca (Stratum 1 - GPS)
                    </option>
                    
                  </select>
                  
                  <BR>
                  LDAP Server Hostname
<img id="ldapserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="This must be a hostname and not an IP address. Hostnames are required as SSL connections will compare the certificate offered against that of the configured host and will fail silently to the end user if not correctly configured."
           />
                  :
                  <input  style="width: 250px;" id="ldapserver" type="text" placeholder="" onchange="if(this.value.indexOf(':')>-1){alert(errorNotValidHostname);}else{update();}updateCtx(this)" >
                  <BR>
                  LDAP URL
<img id="ldapurlToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="Examples: ldap://myldapserver.com ldaps://myldapserver.com ldap://myldapserver.com:389/ou=People"
           />
                  :
                  <input  style="width: 250px;" id="ldapurl" type="text" placeholder="" onchange="updateCtx(this)" >
                  <BR>
                  LDAP DN
<img id="ldapdnToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="Examples: caftest.canarie.ca"
           />
                  :
                  <input  style="width: 250px;" id="ldapdn" type="text" placeholder="" onchange="updateCtx(this)" >
                  <BR>


                  LDAP Bind DN
<img id="ldapserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The Bind DN format is the DN of the LDAP identity that FedSSO will sign in as. An example one is: CN=ShibBindUser,CN=Users, DC=somedomain,DC=ca.  Note the AD 'Users' container is a CN NOT OU unless you have customized your AD tree."
           />
                  :
                  <input  style="width: 250px;" id="ldapbinddn" type="text" placeholder="" onchange="updateCtx(this)" >
                  <BR>
                  LDAP Password <img id="ldapserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The password for the privilaged bind user."
           />:
                  <input  style="width: 250px;" id="ldappass" type="text" placeholder="" onchange="updateCtx(this)" >
                  <BR>
                  
                  LDAP Base DN
                  <img id="ldapserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="The Base DN is where the user search is commenced from."
           />
           :
                  <input  style="width: 250px;" id="ldapbasedn" type="text" placeholder="e.g. cn=Users,dc=somedomain,dc=ca" onchange="updateCtx(this)" >
                  <BR>
                  LDAP Server type
<img id="ldap_typeToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="LDAP Server type"
           />
                  :
                  <select id="ldap_type"  onchange="updateCtx(this)" >
                    <option name="ldapAD" value="ad" selected>
                      AD
                    </option>
                    <option name="ldapOther" value="other">
                      Other
                    </option>
                  </select>
                  <BR>

                  LDAP Connection Encryption technique
<img id="sslToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="Use SSL or TLS encryption to connect to the LDAP server(s)?"
           />
                  :
                  <select id="ldapSSL" onchange="updateCtx(this)">
                    <option name="ldapSSLy" value="true" selected="selected">LDAP SSL</option>
                    <option name="ldapSSLn" value="false">LDAP TLS</option>
                  </select>

<!--
                  LDAP SSL
<img id="sslToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="This LDAP server uses SSL?"
           />

                  :
                 <select id="ldapSSL"  onchange="updateCtx(this)" >
                    <option name="ssl_no" value="false" >
                      No
                    </option>
                    <option name="ssl_yes" value="true" selected>
                      Yes (recommended)
                    </option>
                 </select>

                  <BR>
                  LDAP TLS
<img id="tlsToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"          
          rel="tooltip" title="This LDAP server uses TLS?"
           />

                  :
                 <select id="ldapStartTLS"  onchange="updateCtx(this)" >
                    <option name="tls_no" value="false" selected>
                      No(recomm. with ldapssl=yes)
                    </option>
                    <option name="tls_yes" value="true" >
                      Yes
                    </option>
                 </select>
-->
		 <BR>
                  LDAP attribute filter
                  <img id="attr_filterToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="LDAP attribute filter. Used for LDAP authentication"
           />
           :
                  <input  style="width: 250px;" id="attr_filter" type="text" placeholder="e.g. uid" onchange="updateCtx(this)" >
                  <BR>

                  LDAP user field
                  <img id="user_fieldToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="LDAP user field. Used for LDAP attribute release."
           />
           :
                  <input  style="width: 250px;" id="user_field" type="text" placeholder="e.g. samaccountname" onchange="updateCtx(this)" >
                  <BR>
                 
                  LDAP released attributes
                  <img id="ldap_attrToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="List of LDAP released attributes"
           />
           :                  <input  style="width: 250px;" id="ldap_attr" type="text" placeholder="e.g. cn,mail" onchange="updateCtx(this)" >
                  <BR>
                  LDAP Subtree search?
<img id="subsearchToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="Subtree search describes whether or not the entire tree is searched for a user or just that node and no further.  Subtree is recommended unless your directory design requires otherwise."
           />
                  : 
                  <select id="subsearch"  onchange="updateCtx(this)" >
                    <option name="subsearchTrue" value="true" selected>
                      Yes (recommended)
                    </option>
                    <option name="subsearchFalse" value="false">
                      No
                    </option>
                  </select>
                  <br>
                  Ask for keystore passwords?
<img id="passw_inputToolTip" src="../img/icon_tooltip.gif" alt="ToolTip"
          rel="tooltip" title="Ask for IDP/HTTPS keystore passwords during installation. If set to No, passwords will be automatically generated."
           />
                  :
                  <select id="passw_input"  onchange="updateCtx(this)" >
                    <option name="kpwFalse" value="n" selected>
                      No (recommended)
                    </option>
                    <option name="kpwTrue" value="y">
                      Yes
                    </option>
                  </select>
                  <br>

		<div class="casurlRow">
                  CAS Server Login URL
                  <img id="casserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="An unauthenticated user will be redirected to this URL"
           />
           :
                  <input  style="width: 250px;" id="caslogurl" type="text" placeholder="e.g. http://casserver/login" onchange="updateCtx(this)" >
                  <BR>                  

                 CAS Server Validation URL
                  <img id="casserverToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="CAS Ticket validation URL. Idp will validate the SP ticket to this CAS URL."
           />
           :
                  <input  style="width: 250px;" id="casurl" type="text" placeholder="e.g. http://casserver/" onchange="updateCtx(this)" >
                  <BR>
                </div>
                  
                </td>
              </tr>
              
              <tr bgcolor="#CCCCCC">
                <td colspan="2">
                  <b>
                    <font size="+1">
                      FedSSO Features
                    </font>
                    <b>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="1">
                      These are some additional configurations that enhance the FedSSO operation
                      <br>
                      
                    </td>
                    <td>
                    </tr>
                  <tr>
                    <td colspan="2" align="right">
                      Install support for ePTID 
<img id="eptidToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="ePTID stands for eduPersonTargetedID. A pseudo-anonymous opaque privacy preserving identifier that is generated per user per service to mask their Personally Identifiable Information (PII). It is a single attribute and is default released to all CAF participants. A Mysql database is used to cache the calculated values to permit.  During the installation the passphrase for MySQL needs to be set if you want to offer one, otherwise a random one will be generated for this functionality."
           />


                      <select id="eptid"  onchange="updateCtx(this)" >
                        <option name="eptidY" value="y" selected>
                          Yes(recommended)
                        </option>
                        <option name="eptidN" value="n">
                          No
                        </option>
                      </select>
                      <br>
                      Send anonymous usage stats to CAF 

                      <img id="fticksToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="FTICKS is a logging format that anonymizes and then logs an authentication event to CAF syslog servers. These are used to gather utilization stats to provide aggregate reports."
           />
                      <select id="fticks"  onchange="updateCtx(this)" >
                        <option name="ftickY" value="y" selected>
                          Yes(recommended)
                        </option>
                        <option name="ftickN" value="n">
                          No
                        </option>
                      </select>
                      <br>

                      Enable user consent

                      <img id="consentToolTip" src="../img/icon_tooltip.gif" alt="ToolTip" 
          rel="tooltip" title="If you enable user consent the user will have to consent."
           />
                      <select id="consentEnabled"  onchange="updateCtx(this)" >
                        <option name="consentEnabledY" value="y" selected>
                          Yes(recommended)
                        </option>
                        <option name="consentEnabledN" value="n">
                          No
                        </option>
                      </select>
                      <br>

                      
                      <!-- google apps support, not supported by CAF, but other federations config may permit it, CAF uses hidden value -->
                      
<input type=hidden id="googleDom" value="n">
<input type=hidden id="certAcro" value="">
<input type=hidden id="certLongC" value="Canada">
<input type=hidden id="SWAMIDcertChain" value="undefined" />
<!--
Enable Support to sign into Google Apps  <select id="google"  onchange="update()">
                                                <option name="googleY" value="y" selected>Yes</option>
                                               <option name="googleN" value="n">No</option>
                                             </select>
                                             <br>

-->





                      <input type=hidden id="google" value="n">
                      <!--
Enable Support to sign into Google Apps  
<select id="google"  onchange="updateCtx(this)" >
<option name="googleY" value="y" selected>
Yes
</option>
<option name="googleN" value="n">
No
</option>
</select>
<br>
-->
                      <!-- NorduNet NINC Support - not CAF, only SWAMID functionality, CAF uses hidden value-->
                      
                      <input type=hidden id="ninc" value="n">
                      <!--
Enable Support norEduPersonNIN  
<select id="ninc"  onchange="updateCtx(this)" >
<option name="nincY" value="y" selected>
Yes
</option>
<option name="nincN" value="n">
No
</option>
</select>
<br>
-->
                      
                    </td>
                  </tr>
                  <!-- 
<tr>
<td colspan="2" align="right">
Keystore password for FedSSO encryption keys 
<input  style="width: 250px;" id="pass" type="text" placeholder="" onchange="updateCtx(this)" >
<br>
Keystore password for HTTPS Server encryption keys 
<input  style="width: 250px;" id="httpspass" type="text" placeholder="" onchange="updateCtx(this)" >
<br>
</td>
</tr>
-->
                  <!-- 
<tr>
<td>
installer_section2_title:
</td>
<td>
<input id="installer_section2_title" type="text" placeholder="" onchange="updateCtx(this)" >
</td>
</tr>
-->
                  
                </table>
            </fieldset>
          <br>
          
          
          <button type="submit" class="btn" onclick="return formSubmit();" >
            Generate Configuration File
          </button>
        </form>
    </div>
  <div class="span6">
  </div>
     </div>
  </div>
  
  
  <form>
    <label>
      
      <h4>
        Autogenerated Configuration File
      </h4>
      
    </label>
    
    <textarea id="outputArea" class="span7"  rows="49" cols="40">
    </textarea>
    
  </form>
  
  
  <form>
    <label>
      
      <a name="use_existing_config">
      </a>
      
      <h4>
        Import Configuration File
      </h4>
      
    </label>
    
    <table width="40%">
      <tr>
        <td align="right">
          
          <button type="submit" class="btn" onclick="return importPreviousSettings(); " >
            Import My Existing Config From Below 
          </button>
          
        </td>
        <td align="right">
          <a href="#top_of_page">
            back to top
          </a>
        </td>
      </tr>
    </table>
    
    <textarea id="importPreviousConfigArea" class="span7"  rows="10" cols="40"></textarea>
    
    <hr color="red" size="10">
    <hr>
    IDP Installer Version 2.6_CAF &copy; 2011-13 
    
  </form>
 


  
  </div>
     </div>
     </div>
     </div>
     </body>
     </html>
      
